{"ast":null,"code":"var _jsxFileName = \"/home/ketgintern/Desktop/FMS-AGV-AMR/frontend/src/pages/Test/TaskLogComponent.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nfunction TaskLogComponent() {\n  const [tasks, setTasks] = useState([]);\n  useEffect(() => {\n    fetchAllTasks();\n  }, []);\n  const getToken = () => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      alert('토큰이 없습니다. 다시 로그인해주세요.');\n      window.location.href = '/login'; // 토큰이 없으면 로그인 페이지로 리디렉션\n      return null;\n    }\n    return token;\n  };\n  const fetchAllTasks = async () => {\n    const token = getToken();\n    if (!token) return;\n    try {\n      const response = await axios.get('http://172.30.1.28:8080/task/all', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setTasks(response.data); // 모든 작업 데이터를 상태로 설정\n    } catch (error) {\n      console.error('작업 로그 가져오기 오류:', error);\n    }\n  };\n  const formatDate = date => {\n    const parsedDate = new Date(date);\n    return isNaN(parsedDate) ? 'N/A' : parsedDate.toLocaleString();\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      // 가로는 화면에 맞게 꽉 차게\n      height: '300px',\n      // 고정된 높이\n      overflowY: 'auto',\n      // 넘칠 경우 수직 스크롤\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"\\uC791\\uC5C5 \\uB85C\\uADF8\"), /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: '100%',\n      borderCollapse: 'collapse'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    style: {\n      position: 'sticky',\n      top: 0,\n      backgroundColor: '#f9f9f9',\n      zIndex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"\\uC791\\uC5C5 \\uC774\\uB984\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"\\uB85C\\uBD07 IP\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"\\uC791\\uC5C5 \\uC720\\uD615\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"\\uC0C1\\uD0DC\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"\\uC2DC\\uC791 \\uC2DC\\uAC04\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"\\uC885\\uB8CC \\uC2DC\\uAC04\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, tasks.length > 0 ? tasks.map((task, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, task.name), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, task.robotIp), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, task.taskType), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, task.status), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, formatDate(task.startTime)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, formatDate(task.endTime)))) : /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: \"6\",\n    style: {\n      textAlign: 'center',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"\\uC791\\uC5C5 \\uB85C\\uADF8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\")))));\n}\nexport default TaskLogComponent;","map":{"version":3,"names":["React","useState","useEffect","axios","TaskLogComponent","tasks","setTasks","fetchAllTasks","getToken","token","localStorage","getItem","alert","window","location","href","response","get","headers","Authorization","data","error","console","formatDate","date","parsedDate","Date","isNaN","toLocaleString","createElement","style","width","height","overflowY","border","padding","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","borderCollapse","position","top","backgroundColor","zIndex","length","map","task","index","key","name","robotIp","taskType","status","startTime","endTime","colSpan","textAlign"],"sources":["/home/ketgintern/Desktop/FMS-AGV-AMR/frontend/src/pages/Test/TaskLogComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction TaskLogComponent() {\n  const [tasks, setTasks] = useState([]);\n\n  useEffect(() => {\n    fetchAllTasks();\n  }, []);\n\n  const getToken = () => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      alert('토큰이 없습니다. 다시 로그인해주세요.');\n      window.location.href = '/login'; // 토큰이 없으면 로그인 페이지로 리디렉션\n      return null;\n    }\n    return token;\n  };\n\n  const fetchAllTasks = async () => {\n    const token = getToken();\n    if (!token) return;\n\n    try {\n      const response = await axios.get('http://172.30.1.28:8080/task/all', {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setTasks(response.data); // 모든 작업 데이터를 상태로 설정\n    } catch (error) {\n      console.error('작업 로그 가져오기 오류:', error);\n    }\n  };\n\n  const formatDate = (date) => {\n    const parsedDate = new Date(date);\n    return isNaN(parsedDate) ? 'N/A' : parsedDate.toLocaleString();\n  };\n\n  return (\n    <div style={{\n      width: '100%',  // 가로는 화면에 맞게 꽉 차게\n      height: '300px',  // 고정된 높이\n      overflowY: 'auto',  // 넘칠 경우 수직 스크롤\n      border: '1px solid #ccc',\n      padding: '10px'\n    }}>\n      <h3>작업 로그</h3>\n      <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n        <thead style={{ position: 'sticky', top: 0, backgroundColor: '#f9f9f9', zIndex: 1 }}>\n          <tr>\n            <th style={{ border: '1px solid #ccc', padding: '10px' }}>작업 이름</th>\n            <th style={{ border: '1px solid #ccc', padding: '10px' }}>로봇 IP</th>\n            <th style={{ border: '1px solid #ccc', padding: '10px' }}>작업 유형</th>\n            <th style={{ border: '1px solid #ccc', padding: '10px' }}>상태</th>\n            <th style={{ border: '1px solid #ccc', padding: '10px' }}>시작 시간</th>\n            <th style={{ border: '1px solid #ccc', padding: '10px' }}>종료 시간</th>\n          </tr>\n        </thead>\n        <tbody>\n          {tasks.length > 0 ? (\n            tasks.map((task, index) => (\n              <tr key={index}>\n                <td style={{ border: '1px solid #ccc', padding: '10px' }}>{task.name}</td>\n                <td style={{ border: '1px solid #ccc', padding: '10px' }}>{task.robotIp}</td>\n                <td style={{ border: '1px solid #ccc', padding: '10px' }}>{task.taskType}</td>\n                <td style={{ border: '1px solid #ccc', padding: '10px' }}>{task.status}</td>\n                <td style={{ border: '1px solid #ccc', padding: '10px' }}>{formatDate(task.startTime)}</td>\n                <td style={{ border: '1px solid #ccc', padding: '10px' }}>{formatDate(task.endTime)}</td>\n              </tr>\n            ))\n          ) : (\n            <tr>\n              <td colSpan=\"6\" style={{ textAlign: 'center', padding: '10px' }}>작업 로그가 없습니다.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default TaskLogComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}