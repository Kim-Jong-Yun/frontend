{"ast":null,"code":"var _jsxFileName = \"/home/ketgintern/Desktop/frontend/src/pages/Task/CreateTask.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './CreateTask.css'; // 스타일을 위한 CSS 파일을 임포트\n\nfunction CreateTask({\n  onClose,\n  onTaskCreated\n}) {\n  const [taskName, setTaskName] = useState('');\n  const [taskDescription, setTaskDescription] = useState(''); // 작업 설명 상태 추가\n  const [monitoredMapId, setMonitoredMapId] = useState(null); // 모니터링 중인 맵 ID\n\n  // JWT 토큰을 localStorage에서 가져옴\n  const token = localStorage.getItem('token');\n\n  // 모니터링 중인 맵 정보 가져오기\n  useEffect(() => {\n    async function fetchMonitoredMap() {\n      try {\n        const response = await axios.get('http://3.35.87.118:5557/map/monitored', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setMonitoredMapId(response.data._id); // 모니터링 중인 맵의 ID 저장\n      } catch (error) {\n        console.error('모니터링 중인 맵 정보를 가져오는 중 오류가 발생했습니다.', error);\n      }\n    }\n    fetchMonitoredMap();\n  }, [token]);\n\n  // 작업 생성 핸들러\n  const handleCreateTask = async () => {\n    if (!taskName || !monitoredMapId) {\n      alert('작업 이름과 맵 정보는 필수 항목입니다.');\n      return;\n    }\n    try {\n      // 작업 생성 API 요청\n      const response = await axios.post('http://3.35.87.118:8080/task/tasks', {\n        name: taskName,\n        description: taskDescription,\n        mapId: monitoredMapId // 모니터링 중인 맵 ID를 포함\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        } // 토큰을 Authorization 헤더에 추가\n      });\n      onTaskCreated(response.data); // 새로운 작업을 부모 컴포넌트로 전달\n      onClose(); // 팝업 닫기\n    } catch (error) {\n      console.error('작업 생성 중 오류가 발생했습니다.', error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-task-popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-task-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"\\uC0C8 \\uC791\\uC5C5 \\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"\\uC791\\uC5C5 \\uC774\\uB984\",\n    value: taskName,\n    onChange: e => setTaskName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    placeholder: \"\\uC791\\uC5C5 \\uC124\\uBA85\",\n    value: taskDescription,\n    onChange: e => setTaskDescription(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleCreateTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, \"\\uC0DD\\uC131\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, \"\\uCDE8\\uC18C\"))));\n}\nexport default CreateTask;","map":{"version":3,"names":["React","useState","useEffect","axios","CreateTask","onClose","onTaskCreated","taskName","setTaskName","taskDescription","setTaskDescription","monitoredMapId","setMonitoredMapId","token","localStorage","getItem","fetchMonitoredMap","response","get","headers","Authorization","data","_id","error","console","handleCreateTask","alert","post","name","description","mapId","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick"],"sources":["/home/ketgintern/Desktop/frontend/src/pages/Task/CreateTask.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './CreateTask.css'; // 스타일을 위한 CSS 파일을 임포트\n\nfunction CreateTask({ onClose, onTaskCreated }) {\n    const [taskName, setTaskName] = useState('');\n    const [taskDescription, setTaskDescription] = useState(''); // 작업 설명 상태 추가\n    const [monitoredMapId, setMonitoredMapId] = useState(null); // 모니터링 중인 맵 ID\n\n    // JWT 토큰을 localStorage에서 가져옴\n    const token = localStorage.getItem('token');\n\n    // 모니터링 중인 맵 정보 가져오기\n    useEffect(() => {\n        async function fetchMonitoredMap() {\n            try {\n                const response = await axios.get('http://3.35.87.118:5557/map/monitored', {\n                    headers: { Authorization: `Bearer ${token}` },\n                });\n                setMonitoredMapId(response.data._id); // 모니터링 중인 맵의 ID 저장\n            } catch (error) {\n                console.error('모니터링 중인 맵 정보를 가져오는 중 오류가 발생했습니다.', error);\n            }\n        }\n        fetchMonitoredMap();\n    }, [token]);\n\n    // 작업 생성 핸들러\n    const handleCreateTask = async () => {\n        if (!taskName || !monitoredMapId) {\n            alert('작업 이름과 맵 정보는 필수 항목입니다.');\n            return;\n        }\n\n        try {\n            // 작업 생성 API 요청\n            const response = await axios.post('http://3.35.87.118:8080/task/tasks', {\n                name: taskName,\n                description: taskDescription,\n                mapId: monitoredMapId, // 모니터링 중인 맵 ID를 포함\n            }, {\n                headers: { Authorization: `Bearer ${token}` }, // 토큰을 Authorization 헤더에 추가\n            });\n\n            onTaskCreated(response.data); // 새로운 작업을 부모 컴포넌트로 전달\n            onClose(); // 팝업 닫기\n        } catch (error) {\n            console.error('작업 생성 중 오류가 발생했습니다.', error);\n        }\n    };\n\n    return (\n        <div className=\"create-task-popup\">\n            <div className=\"create-task-content\">\n                <h3>새 작업 추가</h3>\n                <input\n                    type=\"text\"\n                    placeholder=\"작업 이름\"\n                    value={taskName}\n                    onChange={(e) => setTaskName(e.target.value)}\n                />\n                <textarea\n                    placeholder=\"작업 설명\"\n                    value={taskDescription}\n                    onChange={(e) => setTaskDescription(e.target.value)}\n                />\n                <div className=\"buttons\">\n                    <button onClick={handleCreateTask}>생성</button>\n                    <button onClick={onClose}>취소</button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default CreateTask;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}