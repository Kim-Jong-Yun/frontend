{"ast":null,"code":"var _jsxFileName = \"/home/ketgintern/Desktop/FMS-AGV-AMR/frontend/src/pages/Task/TaskPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Navbar from '../../components/Common/Navbar';\nimport LogoutButton from '../../components/Common/LogoutButton';\nimport UserInfo from '../../components/Common/UserInfo';\nfunction TaskPage() {\n  const [taskName, setTaskName] = useState(''); // 작업 이름 상태\n  const [tasks, setTasks] = useState([]); // 작업 목록 상태\n  const [error, setError] = useState(''); // 오류 상태\n  const [loading, setLoading] = useState(true); // 로딩 상태\n\n  // 초기 작업 목록 불러오기\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const response = await axios.get('http://172.30.1.15:5557/map/steps'); // 작업 목록 조회 API 호출\n        setTasks(response.data); // 가져온 작업 목록을 상태에 저장\n        setLoading(false); // 로딩 완료\n      } catch (error) {\n        setError('작업 목록을 불러오는 중 오류가 발생했습니다.');\n        setLoading(false); // 로딩 완료\n      }\n    };\n    fetchTasks();\n  }, []); // 컴포넌트가 처음 렌더링될 때 한 번만 실행\n\n  // 작업 추가 함수\n  const addTask = async () => {\n    if (taskName.trim() === '') {\n      setError('작업 이름을 입력하세요.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token'); // 또는 적절한 토큰 저장소에서 토큰을 가져옴\n      const response = await axios.post('http://172.30.1.15:5557/map/steps', {\n        name: taskName\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}` // 인증 토큰 추가\n        }\n      });\n      setTasks([...tasks, response.data.step]); // 새로 추가된 작업을 상태에 추가\n      setTaskName(''); // 입력 필드 초기화\n      setError(''); // 오류 메시지 초기화\n    } catch (error) {\n      setError('작업 추가 중 오류가 발생했습니다.');\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontFamily: 'Arial, sans-serif',\n      margin: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      marginBottom: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UserInfo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(LogoutButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: '20px',\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"\\uC791\\uC5C5 \\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: taskName,\n    onChange: e => setTaskName(e.target.value),\n    placeholder: \"\\uC791\\uC5C5 \\uC774\\uB984\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n    style: {\n      marginRight: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, \"\\uCD94\\uAC00\"), error && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 31\n    }\n  }, error), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"\\uC791\\uC5C5 \\uBAA9\\uB85D\"), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"\\uC791\\uC5C5 \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911\\uC785\\uB2C8\\uB2E4...\") : /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, tasks.map(task => /*#__PURE__*/React.createElement(\"li\", {\n    key: task._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 33\n    }\n  }, task.name))))));\n}\nexport default TaskPage;","map":{"version":3,"names":["React","useState","useEffect","axios","Navbar","LogoutButton","UserInfo","TaskPage","taskName","setTaskName","tasks","setTasks","error","setError","loading","setLoading","fetchTasks","response","get","data","addTask","trim","token","localStorage","getItem","post","name","headers","step","console","createElement","style","fontFamily","margin","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","marginBottom","marginLeft","flex","type","value","onChange","e","target","placeholder","marginRight","onClick","color","map","task","key","_id"],"sources":["/home/ketgintern/Desktop/FMS-AGV-AMR/frontend/src/pages/Task/TaskPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Navbar from '../../components/Common/Navbar';\nimport LogoutButton from '../../components/Common/LogoutButton';\nimport UserInfo from '../../components/Common/UserInfo';\n\nfunction TaskPage() {\n    const [taskName, setTaskName] = useState(''); // 작업 이름 상태\n    const [tasks, setTasks] = useState([]); // 작업 목록 상태\n    const [error, setError] = useState(''); // 오류 상태\n    const [loading, setLoading] = useState(true); // 로딩 상태\n\n    // 초기 작업 목록 불러오기\n    useEffect(() => {\n        const fetchTasks = async () => {\n            try {\n                const response = await axios.get('http://172.30.1.15:5557/map/steps'); // 작업 목록 조회 API 호출\n                setTasks(response.data); // 가져온 작업 목록을 상태에 저장\n                setLoading(false); // 로딩 완료\n            } catch (error) {\n                setError('작업 목록을 불러오는 중 오류가 발생했습니다.');\n                setLoading(false); // 로딩 완료\n            }\n        };\n\n        fetchTasks();\n    }, []); // 컴포넌트가 처음 렌더링될 때 한 번만 실행\n\n    // 작업 추가 함수\n    const addTask = async () => {\n        if (taskName.trim() === '') {\n            setError('작업 이름을 입력하세요.');\n            return;\n        }\n    \n        try {\n            const token = localStorage.getItem('token'); // 또는 적절한 토큰 저장소에서 토큰을 가져옴\n            const response = await axios.post('http://172.30.1.15:5557/map/steps', { name: taskName }, {\n                headers: {\n                    'Authorization': `Bearer ${token}` // 인증 토큰 추가\n                }\n            });\n            setTasks([...tasks, response.data.step]); // 새로 추가된 작업을 상태에 추가\n            setTaskName(''); // 입력 필드 초기화\n            setError(''); // 오류 메시지 초기화\n        } catch (error) {\n            setError('작업 추가 중 오류가 발생했습니다.');\n            console.error(error);\n        }\n    };\n\n    return (\n        <div style={{ fontFamily: 'Arial, sans-serif', margin: '20px' }}>\n            <header style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '20px' }}>\n                <UserInfo />\n                <LogoutButton />\n            </header>\n            <div style={{ display: 'flex' }}>\n                <Navbar />\n                <div style={{ marginLeft: '20px', flex: 1 }}>\n                    <h2>작업 추가</h2>\n                    <input \n                        type=\"text\" \n                        value={taskName} \n                        onChange={(e) => setTaskName(e.target.value)} \n                        placeholder=\"작업 이름을 입력하세요\" \n                        style={{ marginRight: '10px' }}\n                    />\n                    <button onClick={addTask}>추가</button>\n\n                    {error && <p style={{ color: 'red' }}>{error}</p>}\n\n                    <h3>작업 목록</h3>\n                    {loading ? (\n                        <p>작업 목록을 불러오는 중입니다...</p>\n                    ) : (\n                        <ul>\n                            {tasks.map((task) => (\n                                <li key={task._id}>{task.name}</li>\n                            ))}\n                        </ul>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default TaskPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}