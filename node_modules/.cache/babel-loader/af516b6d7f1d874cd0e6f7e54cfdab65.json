{"ast":null,"code":"var _jsxFileName = \"/home/ketgintern/Desktop/FMS-AGV-AMR/frontend/src/pages/Map/StepList.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nfunction StepList() {\n  const [taskName, setTaskName] = useState(''); // 스텝 이름 상태\n  const [tasks, setTasks] = useState([]); // 스텝 목록 상태\n  const [error, setError] = useState(''); // 오류 상태\n  const [loading, setLoading] = useState(true); // 로딩 상태\n\n  // 초기 스텝 목록 불러오기\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const token = localStorage.getItem('token'); // 로컬 스토리지에서 인증 토큰을 가져옴\n\n        if (!token) {\n          setError('인증 토큰이 없습니다. 다시 로그인하세요.');\n          setLoading(false);\n          return;\n        }\n        const response = await axios.get('http://172.30.1.29:5557/map/steps', {\n          headers: {\n            'Authorization': `Bearer ${token}` // Bearer 토큰을 헤더에 추가\n          }\n        });\n        setTasks(response.data); // 가져온 스텝 목록을 상태에 저장\n        setLoading(false); // 로딩 완료\n      } catch (error) {\n        console.error('스텝 목록을 불러오는 중 오류가 발생했습니다:', error);\n        setError('스텝 목록을 불러오는 중 오류가 발생했습니다.');\n        setLoading(false); // 로딩 완료\n      }\n    };\n    fetchTasks();\n  }, []); // 컴포넌트가 처음 렌더링될 때 한 번만 실행\n\n  // 스텝 추가 함수\n  const addTask = async () => {\n    if (taskName.trim() === '') {\n      setError('스텝 이름을 입력하세요.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token'); // 로컬 스토리지에서 인증 토큰을 가져옴\n      const response = await axios.post('http://172.30.1.29:5557/map/steps', {\n        name: taskName\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}` // 인증 토큰 추가\n        }\n      });\n      setTasks([...tasks, response.data.step]); // 새로 추가된 스텝을 상태에 추가\n      setTaskName(''); // 입력 필드 초기화\n      setError(''); // 오류 메시지 초기화\n    } catch (error) {\n      setError('스텝 추가 중 오류가 발생했습니다.');\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontFamily: 'Arial, sans-serif',\n      margin: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"\\uC2A4\\uD15D \\uB9AC\\uC2A4\\uD2B8 \\uAD00\\uB9AC\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: taskName,\n    onChange: e => setTaskName(e.target.value),\n    placeholder: \"\\uC2A4\\uD15D \\uC774\\uB984\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n    style: {\n      marginRight: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"\\uCD94\\uAC00\"), error && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, error), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, \"\\uC2A4\\uD15D \\uBAA9\\uB85D\"), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"\\uC2A4\\uD15D \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911\\uC785\\uB2C8\\uB2E4...\") : /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"step-list-scrollable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, tasks.map(task => /*#__PURE__*/React.createElement(\"li\", {\n    key: task._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, task.name))));\n}\nexport default StepList;","map":{"version":3,"names":["React","useState","useEffect","axios","StepList","taskName","setTaskName","tasks","setTasks","error","setError","loading","setLoading","fetchTasks","token","localStorage","getItem","response","get","headers","data","console","addTask","trim","post","name","step","createElement","style","fontFamily","margin","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","marginRight","onClick","color","className","map","task","key","_id"],"sources":["/home/ketgintern/Desktop/FMS-AGV-AMR/frontend/src/pages/Map/StepList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction StepList() {\n  const [taskName, setTaskName] = useState(''); // 스텝 이름 상태\n  const [tasks, setTasks] = useState([]); // 스텝 목록 상태\n  const [error, setError] = useState(''); // 오류 상태\n  const [loading, setLoading] = useState(true); // 로딩 상태\n\n  // 초기 스텝 목록 불러오기\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const token = localStorage.getItem('token'); // 로컬 스토리지에서 인증 토큰을 가져옴\n        \n        if (!token) {\n          setError('인증 토큰이 없습니다. 다시 로그인하세요.');\n          setLoading(false);\n          return;\n        }\n\n        const response = await axios.get('http://172.30.1.29:5557/map/steps', {\n          headers: {\n            'Authorization': `Bearer ${token}` // Bearer 토큰을 헤더에 추가\n          }\n        });\n\n        setTasks(response.data); // 가져온 스텝 목록을 상태에 저장\n        setLoading(false); // 로딩 완료\n      } catch (error) {\n        console.error('스텝 목록을 불러오는 중 오류가 발생했습니다:', error);\n        setError('스텝 목록을 불러오는 중 오류가 발생했습니다.');\n        setLoading(false); // 로딩 완료\n      }\n    };\n\n    fetchTasks();\n  }, []); // 컴포넌트가 처음 렌더링될 때 한 번만 실행\n\n  // 스텝 추가 함수\n  const addTask = async () => {\n    if (taskName.trim() === '') {\n      setError('스텝 이름을 입력하세요.');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token'); // 로컬 스토리지에서 인증 토큰을 가져옴\n      const response = await axios.post('http://172.30.1.29:5557/map/steps', { name: taskName }, {\n        headers: {\n          'Authorization': `Bearer ${token}` // 인증 토큰 추가\n        }\n      });\n      setTasks([...tasks, response.data.step]); // 새로 추가된 스텝을 상태에 추가\n      setTaskName(''); // 입력 필드 초기화\n      setError(''); // 오류 메시지 초기화\n    } catch (error) {\n      setError('스텝 추가 중 오류가 발생했습니다.');\n      console.error(error);\n    }\n  };\n\n  return (\n    <div style={{ fontFamily: 'Arial, sans-serif', margin: '20px' }}>\n      <h2>스텝 리스트 관리</h2>\n      <input \n        type=\"text\" \n        value={taskName} \n        onChange={(e) => setTaskName(e.target.value)} \n        placeholder=\"스텝 이름을 입력하세요\" \n        style={{ marginRight: '10px' }}\n      />\n      <button onClick={addTask}>추가</button>\n\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n\n      <h3>스텝 목록</h3>\n      {loading ? (\n        <p>스텝 목록을 불러오는 중입니다...</p>\n      ) : (\n        <ul className=\"step-list-scrollable\">\n          {tasks.map((task) => (\n            <li key={task._id}>{task.name}</li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default StepList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}